<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>歌词</title>
    <style>
        .play{
            width: 50px;
            height: 50px;
            border-radius: 100%;
            border: 1px solid red;
            margin: auto;
            line-height: 50px;
            text-align: center;
        }
        .lyric_txt{
            text-align: center;
            width: 370px;
            height: 250px;
            border: 1px solid red;
            overflow: scroll;
        }
    </style>
</head>
<body>
<div class="play">
    播放
</div>
<audio src="song/王菲-笑忘书.mp3"></audio>
<div class="lyric">
    <div class="lyric_tit" id="lyric_tit"></div>
    <div class="lyric_con" id="lyric_con">
        <div id="lyric_txt" class="lyric_txt">
            [00:00.00][00:01.00]笑忘书(国)
            [00:03.00]王菲
            [00:05.00][00:12.00]没 没有蜡烛 就不用勉强庆祝
            [00:17.00]没 没想到答案 就不用寻找题目
            [00:23.00]没 没有退路 问我也不要思路
            [00:29.00]没 没人去仰慕 那我就继续忙碌
            [00:34.00]lalala 思前想后
            [00:37.00]差一点忘记了怎么投诉
            [00:40.00]lalala 从此以后 不要犯同一个错误
            [00:46.00]将这样的感触 写一封情书送给我自己
            [00:51.00]感动得要哭 很久没哭
            [00:54.00]不失为天大的幸福 将这一份礼物
            [00:59.00]这一封情书 给自己祝福
            [01:02.00]可以不在乎 才能对别人在乎
            [01:20.00]有 一点帮助 就可以对谁倾诉
            [01:26.00]有 一个人保护 就不用自我保护
            [01:32.00]有 一点满足 就准备如何结束
            [01:37.00]有 一点点领悟 就可以往后回顾
            [01:43.00]lalala 思前想后
            [01:46.00]差一点忘记了怎么投诉
            [01:49.00]lalala 从此以后 不要犯同一个错误
            [01:54.00]将这样的感触 写一封情书送给我自己
            [01:59.00]感动得要哭 很久没哭
            [02:03.00]不失为天大的幸福 将这一份礼物
            [02:08.00]这一封情书 给自己祝福
            [02:11.00]可以不在乎 才能对别人在乎
            [02:43.00]Lalalala....... Lalalala.......
            [02:55.00]从开始哭着忌妒 变成了笑着羡慕
            [03:00.00]时间是怎么样把握了我皮肤
            [03:03.00]只有我自己最清楚
            [03:06.00]将这样的感触 写一封情书送给我自己
            [03:11.00]感动得要哭 很久没哭
            [03:15.00]不失为天大的幸福 将这一份礼物
            [03:19.00]这一封情书 给自己祝福
            [03:22.00]可以不在乎 才能对别人在乎
            [03:28.00]让我亲手 将这样的感触
            [03:31.00]写一封情书送给我自己
            [03:34.00]感动得要哭 很久没哭
            [03:37.00]不失为天大的幸福
            [03:39.00]就好好将这一份礼物
            [03:42.00]这一封情书 给自己祝福
            [03:45.00]可以不在乎 才能对别人在乎
        </div>
    </div>
</div>
<script>
//    var array1 = document.getElementsByClassName("lyricContent")[0].innerHTML;
//    var txt = array1.replace(/[[0-9]+:[0-9]+.[0-9]+]/g,"<br>");
//    document.getElementsByClassName("lyricContent")[0].innerHTML=txt;
//var obj;
//function config()
//{
//    this.play_mark=true;
//    this.duration=audio.duration;
//    this.play_btn="&#xe60e;";
//    this.vol=audio.volume;
//    this.timer=null;
//    this.rotateSum=0;
//    this.icon1=icon1.innerHTML;
//    this.icon2=icon2.innerHTML;
//    this.icon1_co=icon1.style.color;
//    this.endplay_btn="&#xe60c;";
//    this.endicon1=icon1.innerHTML;
//    this.endicon2="&#xe674;";
//}
//
//obj= new config();
////初始化总时长、音量等
//function audioInit()
//{
//    time.innerHTML=format(audio.duration);
//    audio.volume=0.5;
//    play_btn.innerHTML=obj.play_btn;
//    vol_cube.style.left=audio.volume*vol_bar.offsetWidth+"px";
//    lyric_tit.innerText=lyric[songIndex].name;
//    photo_pic.style.background="url("+lyric[songIndex].img+")";
//    audio.src=lyric[songIndex].audio_src;
//    progress_cube.style.left=0;
//}
//audioInit();
////播放时间
//audio.addEventListener("timeupdate",function()
//{
//    playedTime();
//})
//function playedTime(){
//    if(audio.currentTime==audio.duration)
//    {
//        next_btn.onclick();
//        play_btn.onclick();
//    }
//    var n=audio.currentTime/audio.duration;
//    progress_cube.style.left=n*progress_bar.offsetWidth+"px";
//    initTime.innerHTML=format(audio.currentTime);
//    var id_num=parseInt(audio.currentTime);
//    var lyric_p=document.getElementsByTagName("p");
//    for(var i=0;i<lyric_p.length;i++)
//    {
//        lyric_p[i].index=i;
//    }
//    if(document.getElementById("lyric"+id_num))
//    {
//        var obj=document.getElementById("lyric"+id_num);
//        for(var i=0;i<obj.index;i++)
//        {
//            lyric_p[i].className="played";
//        }
//        for(var j=obj.index;j<lyric_p.length;j++)
//        {
//            lyric_p[j].className="";
//        }
//        obj.className="yellow active";
//        lyric_txt.style.top=lyric_con.offsetHeight/20-obj.offsetTop+"px";
//    }
//}
//function format(time)
//{
//    var time=parseInt(time);
//    var m=parseInt(time/60);
//    var s=parseInt(time%60);
//    m=zero(m);
//    s=zero(s);
//    function zero(num)
//    {
//        if(num<10)
//        {
//            num="0"+num;
//        }
//        return num;
//    }
//    return m+":"+s;
//}
////点击播放
//play_btn.onclick=function()
//{
//    clearInterval(obj.timer);
//    if(obj.play_mark)
//    {
//        this.innerHTML=obj.endplay_btn;
//        audio.play();
//        obj.timer=setInterval(function()
//        {	obj.rotateSum=obj.rotateSum+1;
//            photo_pic.style.transform="rotate("+obj.rotateSum+"deg)";
//        },30)
//    }
//    else{
//        this.innerHTML=obj.play_btn;
//        audio.pause();
//    }
//    obj.play_mark=!obj.play_mark;
//}
//处理歌词
var lyricObj=document.getElementsByClassName("lyric_txt")[0].innerHTML;
if(lyricObj ==""){
    lyricObj.style.display= "none";
}
function lyric_ctrl()
{
    var temp=lyricObj.split("[");
    var html="";
    for(var i=0;i<temp.length;i++)
    {
        var arr=temp[i].split("]");
        var text=(arr[1]);
        var time=arr[0].split(",");
        var temp2=time[0].split(".");
        var ms=temp2[1];//毫秒
        var temp3=temp2[0].split(":");
        var s=temp3[1];//秒
        var m=temp3[0];//分
        var s_sum=parseInt(m*60)+parseInt(s);
        if(text)
        {
            html+="<p id='lyric"+s_sum+"'>"+text+"</p>";
        }
    }
    document.getElementsByClassName("lyric_txt")[0].innerHTML=html;
}
lyric_ctrl();
function iconinit(){
    icon1.className="icon";
    icon1.innerHTML=obj.icon1;
    icon1.style.color="#fff";
    icon2.className="icon";
    icon2.style.color="#fff";
}
</script>
</body>
</html>